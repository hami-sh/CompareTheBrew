<!doctype html>

<html lang="en">
<head>
	<meta charset="utf-8">

	<title>Compare The Brew</title>
	<meta name="description" content="Compare The Brew">
	<meta name="author" content="The Boys">

	<link rel="stylesheet" href="/static/css/results-styles.css">
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>

<body>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<!-- TODO: POINT THIS SCRIPTS SRC TO THE PROPER LOCATION -->
	<script src="/static/js/scripts.js"></script>
	<div id="header">
		<nav role="navigation">
			<div id="menuToggle">
			  <!--
			  Hidden checkbox
			  -->
			  <input type="checkbox" />
			  
			  <!--
			  Some spans to act as a hamburger.
			  Don't remove this u monkey it looks dumb but it works
			  -->
			  <span></span>
			  <span></span>
			  <span></span>
			  
			  <!--
			  Links
			  -->
			  <ul id="menu">
				<a href="/"><li>Home</li></a>
				<a href="/about"><li>About</li></a>
				<a href="/faq"><li>FAQ</li></a>
			  </ul>
			</div>
		  </nav>
	</div>

	<div id="content">
		<div id="main" class="mainResults">
			<div>
				<form method="POST">
					<i id="searchButton" class="material-icons" style="padding:1%;font-size:80px;color:#cda20b;right:0;position:absolute;margin-right:-1%;margin-top:1%;">search</i>
					<input name="searchTerms" id="searchDrink" type="text" class="smallSearch" placeholder="Search...">
					<span class="underline smallLine"></span>
				</form>
			</div>
			<div id="options">
				<div class="buttons">
					<b class="sortbytext">Sort by:</b>
					<button type="button" class="buttonSortActive">Score</button>
					<button type="button" class="buttonSort">All</button>
					<button type="button" class="buttonSort">Cost</button>
					<button type="button" class="buttonSort">Worst</button>
				</div>
				<div id="priceRange">
					Price range: Slider to be implemented
				</div>
			</div>
			
			<div class="light">
				{% if results|length == 1 %}
					We found 1 drink that matched your search.
				{% else %}
					We found {{results|length}} drinks matching your search. I've set it so it only shows the first 8 for testing.
				{% endif %}
			</div>
			<div class="areaContainer">
				<div id="resultsArea">
					{% if results|length == 0 %}
						<h2>Sorry, we didn't find any results matching your search.</h2>
					{% else %}
						<div id="cardsArea">
						{% for result in results[:8] %}
						<!-- Testing phase, don't need to load every result atm. Just taking the first 8 -->
						<!-- Develop so only loads more when scrolls down -->
							<div class="item">	
								<a class="resultCard" href="{{result[6]}}">
									<div class="cardImage">
										<!-- <img src="{{result[-1]}}" style="width:96px;height:120px;"> -->
										<img src="/static/images/drinkimages/{{result[12]}}.webp.png" alt={{result[2]}} {{result[3]}} style="max-width:100%;max-height:100%;">
									</div>
									<div class="cardContent">
										<div class="brand">
											{{result[1]}}
										</div>
										<div>
											<div class="name">
												{{result[2]}} {{result[3]}}
											</div>
										</div>
										<span class="searchLine"></span>
										<div class="details" style="white-space: nowrap; display: inline-block;">
											{{result[7]}}L - {{'%0.0f'| format(result[9])}} std. - {{result[8]}}%
										</div>
										<div>
											<div class="scorePriceContainer">
												<div class="score responsive_head" style="white-space: nowrap; display: inline-block;">
													{{'%0.0f'| format(result[10] * 100)}}%
													<div class="price">
														${{result[5]}}											
													</div>
												</div>
											</div>
										</div>
									</div>
								</a>
							</div>
						{%endfor%}
						</div>
					{% endif %}
				</div>
			</div>
			<div class="light">
				Beep boop bop boop beep
			</div>
		</div>
	</div>

	<div id="footer">
		<div id="footerLeft">
			<b>Â©CompareTheBrew.com.au, 2019. Bhanu is a manlet. This is some placeholder text.
		</div>
		<div id="footerRight">
			Drink responsibly.</b>
		</div>
	</div>
	<script src="/static/js/fitty.min.js"></script>
	<script>
		fitty('.responsive_head', {
			maxSize: 80,
		});
		// fitty('.scorePriceContainer');
		fitty('.details', {
			minSize: 12,
		});
		// window.onresize = function onresize() {
		// 	fitty.fitAll();
		// }
	</script>
</body>
</html>
